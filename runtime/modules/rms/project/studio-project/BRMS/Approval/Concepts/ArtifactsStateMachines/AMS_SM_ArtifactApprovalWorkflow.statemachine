<?xml version="1.0" encoding="UTF-8"?>
<states:StateMachine xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:designtime="http:///com/tibco/cep/designtime/core/model/designtime_ontology.ecore" xmlns:states="http:///com/tibco/cep/designtime/core/model/states" namespace="/Approval/Concepts/ArtifactsStateMachines/" folder="/Approval/Concepts/ArtifactsStateMachines/" name="AMS_SM_ArtifactApprovalWorkflow" description="" GUID="2DD567AF-EEEB-4008-CDF3-B00DE536C80D" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" main="true" ownerConceptPath="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited">
  <extendedProperties>
    <properties xsi:type="designtime:ObjectProperty" name="Backing Store">
      <value xsi:type="designtime:PropertyMap">
        <properties xsi:type="designtime:SimpleProperty" name="Table Name" value=""/>
        <properties xsi:type="designtime:SimpleProperty" name="Type Name" value=""/>
        <properties xsi:type="designtime:SimpleProperty" name="hasBackingStore" value="true"/>
      </value>
    </properties>
    <properties xsi:type="designtime:ObjectProperty" name="Cache">
      <value xsi:type="designtime:PropertyMap">
        <properties xsi:type="designtime:SimpleProperty" name="Constant [true | false]" value="false"/>
        <properties xsi:type="designtime:SimpleProperty" name="Pre Load On Recovery [true | false]" value="false"/>
        <properties xsi:type="designtime:SimpleProperty" name="Maximum Records to Load On Recovery [Set 0 for All]" value="0"/>
        <properties xsi:type="designtime:SimpleProperty" name="Check for Version [true | false]" value="true"/>
        <properties xsi:type="designtime:SimpleProperty" name="Is Cache Limited[true | false]" value="true"/>
        <properties xsi:type="designtime:SimpleProperty" name="Evict From Cache on Update [true | false]" value="true"/>
      </value>
    </properties>
  </extendedProperties>
  <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
    <symbols>
      <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
    </symbols>
  </entryAction>
  <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
    <symbols>
      <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
    </symbols>
  </exitAction>
  <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
    <symbols>
      <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
    </symbols>
  </timeoutAction>
  <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
    <symbols>
      <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
    </symbols>
  </timeoutExpression>
  <stateEntities xsi:type="states:StateStart" name="Start" GUID="43E36B43-824F-75EB-ACC7-AD1D8A035C66" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" outgoingTransitions="//@stateTransitions.0">
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_Start_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_Start_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_Start_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflowStateStart_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateEnd" name="End" GUID="515E1FFF-736B-5E5A-3426-993F1052D0A6" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" incomingTransitions="//@stateTransitions.2 //@stateTransitions.3 //@stateTransitions.8 //@stateTransitions.16">
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_End_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_End_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_End_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflowStateEnd_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="PENDING_APPROVAL" description="Once checkin is made enter this state" GUID="88AD9663-4593-8C5A-4984-E1A759E054C0" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" timeoutUnits="Seconds" incomingTransitions="//@stateTransitions.0 //@stateTransitions.4" outgoingTransitions="//@stateTransitions.1 //@stateTransitions.2 //@stateTransitions.5">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_PENDING_APPROVAL_entryAction" ownerProjectName="BRMS" actionText="Object LOGGER = Log.getLogger(&quot;SM-PendingApproval-Entry-Rule&quot;);&#xD;&#xA;Log.log(LOGGER, &quot;Info&quot;, &quot;Entered Pending Approval Rule for [%s]&quot;, ams_c_artifactcommited);&#xD;&#xA;&#xD;&#xA;if (ams_c_artifactcommited.applicableStagesConceptId != null &amp;&amp; !String.equals(ams_c_artifactcommited.applicableStagesConceptId, &quot;&quot;)) {&#xD;&#xA;&#x9;Event createTaskEvent = &#xD;&#xA;&#x9;&#x9;Event.createEvent(&quot;xslt://{{/Approval/Events/ArtifactEvents/StateMachine/AMS_E_CreateTaskEvent}}&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?>\n&lt;xsl:stylesheet xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:xsl=\&quot;http://www.w3.org/1999/XSL/Transform\&quot; version=\&quot;2.0\&quot; exclude-result-prefixes=\&quot;xsl xsd\&quot;>&lt;xsl:output method=\&quot;xml\&quot;/>&lt;xsl:param name=\&quot;ams_c_artifactcommited\&quot;/>&lt;xsl:param name=\&quot;globalVariables\&quot;/>&lt;xsl:template name=\&quot;Function\&quot; match=\&quot;/\&quot;>&lt;createEvent>&lt;event>&lt;roleName>&lt;xsl:value-of select=\&quot;$globalVariables/RMS/Approval/adminRole\&quot;/>&lt;/roleName>&lt;xsl:if test=\&quot;$ams_c_artifactcommited/revisionId\&quot;>&lt;revisionId>&lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/revisionId\&quot;/>&lt;/revisionId>&lt;/xsl:if>&lt;/event>&lt;/createEvent>&lt;/xsl:template>&lt;/xsl:stylesheet>&quot;);&#xD;&#xA;&#x9;Event.assertEvent(createTaskEvent);&#xD;&#xA;&#xD;&#xA;&#x9;//Populate applicable stages here&#xD;&#xA;&#x9;AMS_C_ApplicableStages applicableStages = Cluster.DataGrid.CacheLoadConceptByExtIdByUri(ams_c_artifactcommited.applicableStagesConceptId, false, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_ApplicableStages&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;//From here you could go to Grant or Reject&#xD;&#xA;&#x9;AMS_C_WorkflowStage approveStage = Cluster.DataGrid.CacheLoadConceptByExtIdByUri(&quot;Approve&quot;, true, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_WorkflowStage&quot;);&#x9;&#xD;&#xA;&#x9;AMS_C_WorkflowStage rejectStage = Cluster.DataGrid.CacheLoadConceptByExtIdByUri(&quot;Reject&quot;, true, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_WorkflowStage&quot;);&#x9;&#xD;&#xA;&#xD;&#xA;&#x9;if (applicableStages != null) {&#xD;&#xA;    &#x9;Instance.PropertyArray.appendConceptReference(applicableStages.stages, approveStage, 1L);&#xD;&#xA;&#x9;    Instance.PropertyArray.appendConceptReference(applicableStages.stages, rejectStage, 1L);&#xD;&#xA;&#x9;} &#xD;&#xA;} else {&#xD;&#xA;&#x9;Log.log(LOGGER, &quot;Debug&quot;, &quot;ApplicableStagesConceptId not set.&quot;);&#xD;&#xA;}&#xD;&#xA;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_PENDING_APPROVAL_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_PENDING_APPROVAL_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_PENDING_APPROVAL_timeoutExpression" ownerProjectName="BRMS" returnType="long" actionText="return 0;" conditionText="" validity="CONDITION">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="APPROVE" GUID="A446D4CF-4F24-1F2F-D770-987AD3585D12" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" incomingTransitions="//@stateTransitions.1 //@stateTransitions.11" outgoingTransitions="//@stateTransitions.3 //@stateTransitions.4 //@stateTransitions.6 //@stateTransitions.9 //@stateTransitions.14">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_APPROVE_entryAction" ownerProjectName="BRMS" actionText="Object LOGGER = Log.getLogger(&quot;SM-Approve-Entry-Rule&quot;);&#xD;&#xA;Log.log(LOGGER, &quot;Info&quot;, &quot;Entering APPROVE State&quot;);&#xD;&#xA;&#xD;&#xA;if (ams_c_artifactcommited.applicableStagesConceptId != null &amp;&amp; !String.equals(ams_c_artifactcommited.applicableStagesConceptId, &quot;&quot;)) {&#xD;&#xA;&#x9;Approval.Events.ArtifactEvents.StateMachine.AMS_E_ApprovalRequestEvent approvalRequestEvent = &#xD;&#xA;&#x9;&#x9;Event.createEvent(&quot;xslt://{{/Approval/Events/ArtifactEvents/StateMachine/AMS_E_ApprovalRequestEvent}}&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?>\n&lt;xsl:stylesheet xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:xsl=\&quot;http://www.w3.org/1999/XSL/Transform\&quot; version=\&quot;1.0\&quot; exclude-result-prefixes=\&quot;xsd\&quot;>\n    &lt;xsl:output method=\&quot;xml\&quot;/>\n    &lt;xsl:param name=\&quot;ams_c_artifactcommited\&quot;/>\n    &lt;xsl:template match=\&quot;/\&quot;>\n        &lt;createEvent>\n            &lt;event>\n                &lt;xsl:if test=\&quot;$ams_c_artifactcommited/revisionId\&quot;>\n                    &lt;revisionId>\n                        &lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/revisionId\&quot;/>\n                    &lt;/revisionId>\n                &lt;/xsl:if>\n                &lt;xsl:if test=\&quot;$ams_c_artifactcommited/artifactPath\&quot;>\n                    &lt;artifactPath>\n                        &lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/artifactPath\&quot;/>\n                    &lt;/artifactPath>\n                &lt;/xsl:if>\n            &lt;/event>\n        &lt;/createEvent>\n    &lt;/xsl:template>\n&lt;/xsl:stylesheet>&quot;);&#xD;&#xA;&#x9;Event.assertEvent(approvalRequestEvent);&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#x9;//Populate applicable stages here&#xD;&#xA;&#x9;AMS_C_ApplicableStages applicableStages = Instance.getByExtIdByUri(ams_c_artifactcommited.applicableStagesConceptId, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_ApplicableStages&quot;);&#xD;&#xA;&#x9;//From here you could go to Build&#xD;&#xA;&#x9;AMS_C_WorkflowStage buildStage = Instance.getByExtIdByUri(&quot;BuildAndDeploy&quot;, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_WorkflowStage&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;//Clear previous ones&#xD;&#xA;&#x9;Instance.PropertyArray.clear(applicableStages.stages);&#xD;&#xA;&#x9;String artifactExtension = ams_c_artifactcommited.artifactFileExtension;&#xD;&#xA;&#x9;if (String.equals(artifactExtension, &quot;rulefunctionimpl&quot;)) {&#xD;&#xA;&#x9;&#x9;Instance.PropertyArray.appendConceptReference(applicableStages.stages, buildStage, 1L);&#xD;&#xA;&#x9;}&#xD;&#xA;} else {&#xD;&#xA;&#x9;Log.log(LOGGER, &quot;Debug&quot;, &quot;ApplicableStagesConceptId not set.&quot;);&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_APPROVE_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_APPROVE_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_APPROVE_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="REJECT" GUID="6275FEE9-6E38-7068-63A8-E8E4DD5A4616" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" incomingTransitions="//@stateTransitions.5" outgoingTransitions="//@stateTransitions.16">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_REJECT_entryAction" ownerProjectName="BRMS" actionText="Object LOGGER = Log.getLogger(&quot;SM-Rejected-Entry-Rule&quot;);&#xD;&#xA;Log.log(LOGGER, &quot;Info&quot;, &quot;Entering REJECTED State&quot;);&#xD;&#xA;&#xD;&#xA;if (ams_c_artifactcommited.applicableStagesConceptId != null &amp;&amp; !String.equals(ams_c_artifactcommited.applicableStagesConceptId, &quot;&quot;)) {&#xD;&#xA;&#x9;//Populate applicable stages here&#xD;&#xA;&#x9;AMS_C_ApplicableStages applicableStages = Instance.getByExtIdByUri(ams_c_artifactcommited.applicableStagesConceptId, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_ApplicableStages&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;//Clear previous ones if any&#xD;&#xA;&#x9;Instance.PropertyArray.clear(applicableStages.stages);&#xD;&#xA;} else {&#xD;&#xA;&#x9;Log.log(LOGGER, &quot;Debug&quot;, &quot;ApplicableStagesConceptId not set.&quot;);&#xD;&#xA;}&#xD;&#xA;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_REJECT_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_REJECT_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_REJECT_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="DEPLOY" GUID="4F497E20-E7D5-7158-3AEF-D9B96E52DC2B" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" incomingTransitions="//@stateTransitions.7 //@stateTransitions.11 //@stateTransitions.12 //@stateTransitions.15" outgoingTransitions="//@stateTransitions.6">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_DEPLOY_entryAction" ownerProjectName="BRMS" actionText="Object LOGGER = Log.getLogger(&quot;SM-Deploy-Entry-Rule&quot;);&#xD;&#xA;Log.log(LOGGER, &quot;Info&quot;, &quot;Entering DEPLOY State&quot;);&#xD;&#xA;&#xD;&#xA;if (ams_c_artifactcommited.applicableStagesConceptId != null &amp;&amp; !String.equals(ams_c_artifactcommited.applicableStagesConceptId, &quot;&quot;)) {&#xD;&#xA;&#x9;Approval.Events.ArtifactEvents.StateMachine.AMS_E_ArtifactDeployEvent artifactDeployEvent = &#xD;&#xA;&#x9;&#x9;Event.createEvent(&quot;xslt://{{/Approval/Events/ArtifactEvents/StateMachine/AMS_E_ArtifactDeployEvent}}&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?>\n&lt;xsl:stylesheet xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:xsl=\&quot;http://www.w3.org/1999/XSL/Transform\&quot; version=\&quot;1.0\&quot; exclude-result-prefixes=\&quot;xsl xsd\&quot;>\n    &lt;xsl:output method=\&quot;xml\&quot;/>\n    &lt;xsl:param name=\&quot;ams_c_artifactcommited\&quot;/>\n    &lt;xsl:template match=\&quot;/\&quot;>\n        &lt;createEvent>\n            &lt;event>\n                &lt;xsl:if test=\&quot;$ams_c_artifactcommited/artifactPath\&quot;>\n                    &lt;artifactPath>\n                        &lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/artifactPath\&quot;/>\n                    &lt;/artifactPath>\n                &lt;/xsl:if>\n                &lt;xsl:if test=\&quot;$ams_c_artifactcommited/artifactFileExtension\&quot;>\n                    &lt;artifactExtension>\n                        &lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/artifactFileExtension\&quot;/>\n                    &lt;/artifactExtension>\n                &lt;/xsl:if>\n                &lt;xsl:if test=\&quot;$ams_c_artifactcommited/projectName\&quot;>\n                    &lt;projectName>\n                        &lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/projectName\&quot;/>\n                    &lt;/projectName>\n                &lt;/xsl:if>\n            &lt;/event>\n        &lt;/createEvent>\n    &lt;/xsl:template>\n&lt;/xsl:stylesheet>&quot;);&#xD;&#xA;&#x9;Event.assertEvent(artifactDeployEvent);&#xD;&#xA;&#xD;&#xA;&#x9;//Populate applicable stages here&#xD;&#xA;&#x9;AMS_C_ApplicableStages applicableStages = Instance.getByExtIdByUri(ams_c_artifactcommited.applicableStagesConceptId, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_ApplicableStages&quot;);&#xD;&#xA;&#x9;//From here you could can go back to BUILD stage&#xD;&#xA;&#x9;Approval.Concepts.ArtifactsConcepts.AMS_C_WorkflowStage buildStage = Instance.getByExtIdByUri(&quot;BUILD&quot;, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_WorkflowStage&quot;);&#x9;&#xD;&#xA;&#xD;&#xA;&#x9;//Clear previous ones&#xD;&#xA;&#x9;Instance.PropertyArray.clear(applicableStages.stages);&#xD;&#xA;&#x9;Instance.PropertyArray.appendConceptReference(applicableStages.stages, buildStage, 1L);&#xD;&#xA;} else {&#xD;&#xA;&#x9;Log.log(LOGGER, &quot;Debug&quot;, &quot;ApplicableStagesConceptId not set.&quot;);&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_DEPLOY_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_DEPLOY_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_DEPLOY_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="UNLOAD" GUID="5AEF91B6-F738-CDE7-A3D7-2EC1C61736E6" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" incomingTransitions="//@stateTransitions.6" outgoingTransitions="//@stateTransitions.7">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_UNLOAD_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_UNLOAD_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_UNLOAD_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_UNLOAD_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="BUILD" GUID="FEEEFEE5-870F-323C-80ED-AE545390BD8A" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" incomingTransitions="//@stateTransitions.9 //@stateTransitions.13 //@stateTransitions.14" outgoingTransitions="//@stateTransitions.10 //@stateTransitions.11 //@stateTransitions.12 //@stateTransitions.15">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="Backing Store">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_BUILD_entryAction" ownerProjectName="BRMS" actionText="Object LOGGER = Log.getLogger(&quot;SM-Build-Entry-Rule&quot;);&#xD;&#xA;Log.log(LOGGER, &quot;Info&quot;, &quot;Entering BUILD State&quot;);&#xD;&#xA;&#xD;&#xA;if (ams_c_artifactcommited.applicableStagesConceptId != null &amp;&amp; !String.equals(ams_c_artifactcommited.applicableStagesConceptId, &quot;&quot;)) {&#xD;&#xA;&#x9;//Assert event for generating class&#xD;&#xA;&#x9;Event generateClassEvent = &#xD;&#xA;&#x9;&#x9;Event.createEvent(&quot;xslt://{{/Approval/Events/ArtifactEvents/StateMachine/AMS_E_GenerateClassEvent}}&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?>\n&lt;xsl:stylesheet xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:xsl=\&quot;http://www.w3.org/1999/XSL/Transform\&quot; version=\&quot;1.0\&quot; exclude-result-prefixes=\&quot;xsl xsd\&quot;>\n    &lt;xsl:output method=\&quot;xml\&quot;/>\n    &lt;xsl:param name=\&quot;ams_c_artifactcommited\&quot;/>\n    &lt;xsl:template match=\&quot;/\&quot;>\n        &lt;createEvent>\n            &lt;event>\n                &lt;xsl:if test=\&quot;$ams_c_artifactcommited/artifactPath\&quot;>\n                    &lt;artifactPath>\n                        &lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/artifactPath\&quot;/>\n                    &lt;/artifactPath>\n                &lt;/xsl:if>\n                &lt;xsl:if test=\&quot;$ams_c_artifactcommited/projectName\&quot;>\n                    &lt;projectName>\n                        &lt;xsl:value-of select=\&quot;$ams_c_artifactcommited/projectName\&quot;/>\n                    &lt;/projectName>\n                &lt;/xsl:if>\n            &lt;/event>\n        &lt;/createEvent>\n    &lt;/xsl:template>\n&lt;/xsl:stylesheet>&quot;);&#xD;&#xA;&#x9;Event.assertEvent(generateClassEvent);&#x9;&#xD;&#xA;&#xD;&#xA;&#x9;//Populate applicable stages here&#xD;&#xA;&#x9;AMS_C_ApplicableStages applicableStages = &#xD;&#xA;&#x9;&#x9;Instance.getByExtIdByUri(ams_c_artifactcommited.applicableStagesConceptId, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_ApplicableStages&quot;);&#xD;&#xA;&#x9;//From here you could can go back to BUILD stage&#xD;&#xA;&#x9;//Approval.Concepts.ArtifactsConcepts.AMS_C_WorkflowStage deployStage = Instance.getByExtId(&quot;DEPLOY&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;//Clear previous ones&#xD;&#xA;&#x9;Instance.PropertyArray.clear(applicableStages.stages);&#xD;&#xA;&#x9;//Instance.PropertyArray.appendConceptReference(applicableStages.stages, deployStage, 1L);&#xD;&#xA;} else {&#xD;&#xA;&#x9;Log.log(LOGGER, &quot;Debug&quot;, &quot;ApplicableStagesConceptId not set.&quot;);&#xD;&#xA;}" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_BUILD_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_BUILD_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_BUILD_timeoutExpression" ownerProjectName="BRMS" returnType="long" actionText="return 0;" conditionText="" validity="CONDITION">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="ERROR" description="Generic Error state." GUID="FCF7298F-8408-D4E3-95EC-09E265670993" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" incomingTransitions="//@stateTransitions.12" outgoingTransitions="//@stateTransitions.13">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="Backing Store">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction name="AMS_SM_ArtifactApprovalWorkflow_ERROR_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </entryAction>
    <exitAction name="AMS_SM_ArtifactApprovalWorkflow_ERROR_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </exitAction>
    <timeoutAction name="AMS_SM_ArtifactApprovalWorkflow_G_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression name="AMS_SM_ArtifactApprovalWorkflow_G_timeoutGxpression" ownerProjectName="BRMS" returnType="long" actionText="return 0;" conditionText="" validity="CONDITION">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateTransitions name="SUBMITTED" GUID="3C1A3BD6-9CB1-C616-9914-96DF3A595F39" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.2" fromState="//@stateEntities.0" label="SUBMITTED">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_SUBMITTED_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(ams_c_artifactcommited.status, &quot;Committed&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="APPROVED" GUID="70C32173-9A7B-887C-8178-887E9C5623E8" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.3" fromState="//@stateEntities.2" label="APPROVED">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_APPROVED_guardRule" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Executing Approved Transition&quot;);" conditionText="String.equals(String.trim(ams_c_artifactcommited.status), &quot;Approve&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="EndFromPA" GUID="E7EA71AF-FBC7-3F4E-C3E8-E533922F8684" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.1" fromState="//@stateEntities.2" label="EndFromPA">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_EndFromPA_guardRule" ownerProjectName="BRMS" actionText="" conditionText="ams_c_artifactcommited.status == &quot;end&quot;;">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="EndFromApprove" GUID="697A33C8-FE97-7B17-60A9-10521D4FA200" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.1" fromState="//@stateEntities.3" label="EndFromApprove">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_EndFromApprove_guardRule" ownerProjectName="BRMS" actionText="" conditionText="ams_c_artifactcommited.status == &quot;end&quot;;" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="FAILEDAPPROVAL" GUID="63F97C43-9392-CDE0-5537-434CA721991F" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.2" fromState="//@stateEntities.3" label="FAILEDAPPROVAL">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_FAILEDAPPROVAL_guardRule" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Coming from Approve&quot;);" conditionText="String.equals(ams_c_artifactcommited.status, &quot;PENDING_APPROVAL1&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
        <symbolList idName="ams_e_artifactstatuschangerequestevent" type="/Approval/Events/ArtifactEvents/StatusChange/AMS_E_ArtifactStatusChangeRequestEvent"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Rejected" GUID="36838DCC-DB06-7907-423C-570C2CE991B1" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.4" fromState="//@stateEntities.2" label="Rejected">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_Rejected_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(&quot;Reject&quot;, ams_c_artifactcommited.status);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Unloaded" GUID="623505CC-4303-9E60-01FE-68D608940FBA" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.6" fromState="//@stateEntities.5" label="Unloaded">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_Unloaded_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(&quot;UNLOAD&quot;, ams_c_artifactcommited.status);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="DeployedAfterUnload" GUID="920AE886-7CA6-DD78-C8D3-5B1FA48B79A5" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.5" fromState="//@stateEntities.6" label="Deploy">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_DeployedAfterUnload_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(&quot;DEPLOY&quot;, ams_c_artifactcommited.status);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_1" GUID="199E5F86-1AB1-31B6-A20E-AFA593BFF16E" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.1" fromState="//@stateEntities.7" label="">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactApprovalWorkflow_Transition_1_guardRule" ownerProjectName="BRMS" actionText="" conditionText="ams_c_artifactcommited.status == &quot;end&quot;;" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_2" GUID="968A8912-6400-E9F2-AAD0-8F91AE6736FD" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.8" fromState="//@stateEntities.7" label="BuildError">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" name="AMS_SM_ArtifactApprovalWorkflow_Transition_2_guardRule" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Entering Build error state&quot;);&#xD;&#xA;" conditionText="ams_c_artifactcommited.status == &quot;BUILD_ERROR&quot;;" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_3" GUID="7A0CE708-2809-7AC9-D7EF-2860FCB09793" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.7" fromState="//@stateEntities.8" label="">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" name="AMS_SM_ArtifactApprovalWorkflow_Transition_3_guardRule" ownerProjectName="BRMS" actionText="" conditionText="ams_c_artifactcommited.status == &quot;BUILD&quot;;" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_4" GUID="C2B6A7ED-2733-9A64-1E97-83DCC38B97FB" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.3" fromState="//@stateEntities.7" label="ApprovedFromBuild">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" name="AMS_SM_ArtifactApprovalWorkflow_Transition_4_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(&quot;APPROVE&quot;, ams_c_artifactcommited.status);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_5" GUID="E4D5C8D8-449A-3E50-5674-C948767EC35A" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.8" fromState="//@stateEntities.7" label="BuildError">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" name="AMS_SM_ArtifactApprovalWorkflow_Transition_5_guardRule" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Build class Failed. Entering Error state&quot;);" conditionText="String.equals(&quot;ERROR&quot;, ams_c_artifactcommited.status);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_6" GUID="F8387AF7-4973-D7DC-3922-9CC7BD976A6C" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.7" fromState="//@stateEntities.8" label="Rebuild">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" name="AMS_SM_ArtifactApprovalWorkflow_Transition_6_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(&quot;BUILD&quot;, ams_c_artifactcommited.status);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_7" GUID="FBA33D55-D240-C88E-6A3C-59689B3D5ECF" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.7" fromState="//@stateEntities.3" label="Build">
    <guardRule name="AMS_SM_ArtifactApprovalWorkflow_Transition_7_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(String.trim(ams_c_artifactcommited.status), &quot;BUILD&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_8" GUID="C3D6DE95-1DF9-5581-EFEF-051F1B0629E8" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.5" fromState="//@stateEntities.7" label="Deploy">
    <guardRule name="AMS_SM_ArtifactApprovalWorkflow_Transition_8_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(String.trim(ams_c_artifactcommited.status), &quot;DEPLOY&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Transition_9" GUID="ADB5B06B-B7FF-3A0E-1D5E-23ADCE4AA630" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactApprovalWorkflow" toState="//@stateEntities.1" fromState="//@stateEntities.4" label="">
    <guardRule name="AMS_SM_ArtifactApprovalWorkflow_Transition_9_guardRule" ownerProjectName="BRMS" actionText="" conditionText="ams_c_artifactcommited.status == &quot;end&quot;;" priority="5">
      <symbols>
        <symbolList idName="ams_c_artifactcommited" type="/Approval/Concepts/ArtifactsConcepts/AMS_C_ArtifactCommited"/>
      </symbols>
    </guardRule>
  </stateTransitions>
</states:StateMachine>
