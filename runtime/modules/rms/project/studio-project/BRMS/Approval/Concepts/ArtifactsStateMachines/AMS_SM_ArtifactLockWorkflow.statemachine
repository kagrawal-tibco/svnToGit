<?xml version="1.0" encoding="UTF-8"?>
<states:StateMachine xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:designtime="http:///com/tibco/cep/designtime/core/model/designtime_ontology.ecore" xmlns:states="http:///com/tibco/cep/designtime/core/model/states" namespace="/Approval/Concepts/ArtifactsStateMachines/" folder="/Approval/Concepts/ArtifactsStateMachines/" name="AMS_SM_ArtifactLockWorkflow" description="Workflow for Lock requests approval and such" GUID="F72DF3C9-470A-2E00-5B11-AE735BCFF1A4" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" main="true" ownerConceptPath="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest">
  <extendedProperties>
    <properties xsi:type="designtime:ObjectProperty" name="Backing Store">
      <value xsi:type="designtime:PropertyMap">
        <properties xsi:type="designtime:SimpleProperty" name="Table Name" value=""/>
        <properties xsi:type="designtime:SimpleProperty" name="Type Name" value=""/>
        <properties xsi:type="designtime:SimpleProperty" name="hasBackingStore" value="true"/>
      </value>
    </properties>
    <properties xsi:type="designtime:ObjectProperty" name="Cache">
      <value xsi:type="designtime:PropertyMap">
        <properties xsi:type="designtime:SimpleProperty" name="Constant [true | false]" value="false"/>
        <properties xsi:type="designtime:SimpleProperty" name="Pre Load On Recovery [true | false]" value="false"/>
        <properties xsi:type="designtime:SimpleProperty" name="Maximum Records to Load On Recovery [Set 0 for All]" value="0"/>
        <properties xsi:type="designtime:SimpleProperty" name="Check for Version [true | false]" value="true"/>
        <properties xsi:type="designtime:SimpleProperty" name="Is Cache Limited[true | false]" value="true"/>
        <properties xsi:type="designtime:SimpleProperty" name="Evict From Cache on Update [true | false]" value="true"/>
      </value>
    </properties>
  </extendedProperties>
  <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
    <symbols>
      <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
    </symbols>
  </entryAction>
  <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
    <symbols>
      <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
    </symbols>
  </exitAction>
  <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
    <symbols>
      <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
    </symbols>
  </timeoutAction>
  <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
    <symbols>
      <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
    </symbols>
  </timeoutExpression>
  <stateEntities xsi:type="states:StateStart" name="Start" GUID="10AF7F70-32A7-94A2-3EB6-EF654CB62F57" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" outgoingTransitions="//@stateTransitions.4">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_Start_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_Start_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_Start_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_STARTSTATE_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateEnd" name="End" GUID="34FCF00A-9BB9-7D40-335B-FDA6C846C308" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" incomingTransitions="//@stateTransitions.3">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_End_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_End_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_End_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_ENDSTATE_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="PENDING_GRANT_LOCK" GUID="F3CD5F7E-3638-A01E-4C8E-270525966A1F" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" incomingTransitions="//@stateTransitions.4" outgoingTransitions="//@stateTransitions.0 //@stateTransitions.1">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_PENDING_GRANT_LOCK_entryAction" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Entering Pending Grant Lock State&quot;);&#xD;&#xA;AMS_C_Role role = Instance.getByExtId(&quot;Administrator&quot;);&#xD;&#xA;Approval.Events.ArtifactEvents.StateMachine.AMS_E_GrantLockRequestEvent grantLockRequestEvent = &#xD;&#xA;&#x9;Event.createEvent(&quot;xslt://{{/Approval/Events/ArtifactEvents/StateMachine/AMS_E_GrantLockRequestEvent}}&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?>\n&lt;xsl:stylesheet xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:xsl=\&quot;http://www.w3.org/1999/XSL/Transform\&quot; version=\&quot;1.0\&quot; exclude-result-prefixes=\&quot;xsl xsd\&quot;>\n    &lt;xsl:output method=\&quot;xml\&quot;/>\n    &lt;xsl:param name=\&quot;grantLockRequestEvent\&quot;/>\n    &lt;xsl:param name=\&quot;role\&quot;/>\n    &lt;xsl:template match=\&quot;/\&quot;>\n        &lt;createEvent>\n            &lt;event>\n                &lt;xsl:if test=\&quot;$grantLockRequestEvent/username\&quot;>\n                    &lt;username>\n                        &lt;xsl:value-of select=\&quot;$grantLockRequestEvent/username\&quot;/>\n                    &lt;/username>\n                &lt;/xsl:if>\n                &lt;xsl:if test=\&quot;$grantLockRequestEvent/projectName\&quot;>\n                    &lt;projectName>\n                        &lt;xsl:value-of select=\&quot;$grantLockRequestEvent/projectName\&quot;/>\n                    &lt;/projectName>\n                &lt;/xsl:if>\n                &lt;xsl:if test=\&quot;$grantLockRequestEvent/artifactPath\&quot;>\n                    &lt;artifactPath>\n                        &lt;xsl:value-of select=\&quot;$grantLockRequestEvent/artifactPath\&quot;/>\n                    &lt;/artifactPath>\n                &lt;/xsl:if>\n                &lt;xsl:if test=\&quot;$role/name\&quot;>\n                    &lt;roleName>\n                        &lt;xsl:value-of select=\&quot;$role/name\&quot;/>\n                    &lt;/roleName>\n                &lt;/xsl:if>\n            &lt;/event>\n        &lt;/createEvent>\n    &lt;/xsl:template>\n&lt;/xsl:stylesheet>&quot;);&#xD;&#xA;Event.assertEvent(grantLockRequestEvent);&#xD;&#xA;&#xD;&#xA;//Populate applicable stages here&#xD;&#xA;AMS_C_ApplicableStages applicableStages = Instance.getByExtIdByUri(ams_c_lockartifactrequest.applicableStagesConceptId, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_ApplicableStages&quot;);&#xD;&#xA;//From here you could go to Grant or Reject&#xD;&#xA;Approval.Concepts.ArtifactsConcepts.AMS_C_WorkflowStage grantStage = Instance.getByExtIdByUri(&quot;GRANT_LOCK&quot;, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_WorkflowStage&quot;);&#x9;&#xD;&#xA;Approval.Concepts.ArtifactsConcepts.AMS_C_WorkflowStage rejectStage = Instance.getByExtIdByUri(&quot;REJECT_LOCK&quot;, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_WorkflowStage&quot;);&#x9;&#xD;&#xA;&#xD;&#xA;Instance.PropertyArray.appendConceptReference(applicableStages.stages, grantStage, 1L);&#xD;&#xA;Instance.PropertyArray.appendConceptReference(applicableStages.stages, rejectStage, 1L);" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_PENDING_GRANT_LOCK_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_PENDING_GRANT_LOCK_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_PENDING_GRANT_LOCK_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="GRANT_LOCK" GUID="155AFC84-00C3-4C56-8784-CB9C76C1677D" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" incomingTransitions="//@stateTransitions.0" outgoingTransitions="//@stateTransitions.2">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_GRANT_LOCK_entryAction" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Executing Grant Lock Action&quot;);&#xD;&#xA;Approval.Events.ArtifactEvents.StateMachine.AMS_E_EffectGrantLockEvent grantLockEvent = &#xD;&#xA;&#x9;Event.createEvent(&quot;xslt://{{/Approval/Events/ArtifactEvents/StateMachine/AMS_E_EffectGrantLockEvent}}&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?>\n&lt;xsl:stylesheet xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot; xmlns:xsl=\&quot;http://www.w3.org/1999/XSL/Transform\&quot; version=\&quot;1.0\&quot; exclude-result-prefixes=\&quot;xsd\&quot;>\n    &lt;xsl:output method=\&quot;xml\&quot;/>\n    &lt;xsl:param name=\&quot;ams_c_lockartifactrequest\&quot;/>\n    &lt;xsl:template match=\&quot;/\&quot;>\n        &lt;createEvent>\n            &lt;event>\n                &lt;xsl:if test=\&quot;$ams_c_lockartifactrequest/lockRequestId\&quot;>\n                    &lt;lockRequestId>\n                        &lt;xsl:value-of select=\&quot;$ams_c_lockartifactrequest/lockRequestId\&quot;/>\n                    &lt;/lockRequestId>\n                &lt;/xsl:if>\n            &lt;/event>\n        &lt;/createEvent>\n    &lt;/xsl:template>\n&lt;/xsl:stylesheet>&quot;);&#xD;&#xA;Event.assertEvent(grantLockEvent);&#xD;&#xA;&#xD;&#xA;//Populate applicable stages here&#xD;&#xA;AMS_C_ApplicableStages applicableStages = Instance.getByExtIdByUri(ams_c_lockartifactrequest.applicableStagesConceptId, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_ApplicableStages&quot;);&#xD;&#xA;//From here you could go to Release&#xD;&#xA;AMS_C_WorkflowStage releaseStage = Instance.getByExtIdByUri(&quot;RELEASE_LOCK&quot;, &quot;/Approval/Concepts/ArtifactsConcepts/AMS_C_WorkflowStage&quot;);&#x9;&#xD;&#xA;&#xD;&#xA;//Clear previous stages if any&#xD;&#xA;Instance.PropertyArray.clear(applicableStages.stages);&#xD;&#xA;&#xD;&#xA;Instance.PropertyArray.appendConceptReference(applicableStages.stages, releaseStage, 1L);&#xD;&#xA;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="GRANT_LOCKMS_SM_GRANT_LOCKrtifactLockWorkflow_GRANT_LOCK_exitGRANT_LOCKction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="GRANT_LOCKMS_SM_GRANT_LOCKrtifactLockWorkflow_GRANT_LOCK_timeoutGRANT_LOCKction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_GRANT_LOCK_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="REJECT_LOCK" GUID="A051460A-A5CA-5524-1EC1-4059FAFE6B72" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" incomingTransitions="//@stateTransitions.1">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_REJECT_LOCK_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_REJECT_LOCK_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_REJECT_LOCK_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_REJECT_LOCK_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateEntities xsi:type="states:StateSimple" name="RELEASE_LOCK" GUID="67AF85E5-B093-AD07-5294-E01BFA470955" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" incomingTransitions="//@stateTransitions.2" outgoingTransitions="//@stateTransitions.3">
    <extendedProperties>
      <properties xsi:type="designtime:ObjectProperty" name="BackingStore">
        <value xsi:type="designtime:PropertyMap">
          <properties xsi:type="designtime:SimpleProperty" name="Column Name" value=""/>
        </value>
      </properties>
      <properties xsi:type="designtime:SimpleProperty" name="index" value="false"/>
    </extendedProperties>
    <entryAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_RELEASE_LOCK_entryAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </entryAction>
    <exitAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_RELEASE_LOCK_exitAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </exitAction>
    <timeoutAction folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_RELEASE_LOCK_timeoutAction" ownerProjectName="BRMS" actionText="" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutAction>
    <timeoutExpression folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_RELEASE_LOCK_timeoutExpression" ownerProjectName="BRMS" actionText="return 0;" conditionText="">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </timeoutExpression>
  </stateEntities>
  <stateTransitions name="GrantedAfterPendingGrant" GUID="9EA2EE78-B9A2-6EEB-8FC6-572865F9AEEA" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" toState="//@stateEntities.3" fromState="//@stateEntities.2" label="GrantedAfterPendingGrant">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_GrantedAfterPendingGrant_guardRule" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Entered GRANTED LOCK STATE&quot;);" conditionText="String.equals(ams_c_lockartifactrequest.approvalStatus, &quot;GRANT_LOCK&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="Rejected" GUID="4DD5D4B4-5B82-EEF3-C2E2-B9F1168C7687" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" toState="//@stateEntities.4" fromState="//@stateEntities.2" label="Rejected">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_Rejected_guardRule" ownerProjectName="BRMS" actionText="System.debugOut(&quot;Entered REJECTED LOCK STATE&quot;);" conditionText="String.equals(ams_c_lockartifactrequest.approvalStatus, &quot;REJECT_LOCK&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="ReleaseAfterGrant" GUID="C1A98CD5-F2AD-6407-1FE5-327BAFBB56FD" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" toState="//@stateEntities.5" fromState="//@stateEntities.3" label="ReleaseAfterGrant">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_ReleaseAfterGrant_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(ams_c_lockartifactrequest.approvalStatus, &quot;RELEASE_LOCK&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="EndAfterRelease" GUID="B2294F64-6095-E32A-61A9-0D2B6A483C6C" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" toState="//@stateEntities.1" fromState="//@stateEntities.5" label="EndAfterRelease">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_EndAfterRelease_guardRule" ownerProjectName="BRMS" actionText="" conditionText="" priority="5">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </guardRule>
  </stateTransitions>
  <stateTransitions name="SubmittedForLockReview" GUID="D69C5B05-80F5-8291-E267-7C8C873ECFB7" ownerProjectName="BRMS" ownerStateMachinePath="/Approval/Concepts/ArtifactsStateMachines/AMS_SM_ArtifactLockWorkflow" toState="//@stateEntities.2" fromState="//@stateEntities.0" label="SubmittedForLockReview">
    <guardRule folder="/Approval/Concepts/ArtifactsStateMachines" name="AMS_SM_ArtifactLockWorkflow_SubmittedForLockReview_guardRule" ownerProjectName="BRMS" actionText="" conditionText="String.equals(ams_c_lockartifactrequest.approvalStatus, &quot;PENDING_GRANT_LOCK&quot;);" priority="5">
      <symbols>
        <symbolList idName="ams_c_lockartifactrequest" type="/Approval/Concepts/ArtifactsConcepts/ArtifactLockConcepts/AMS_C_LockArtifactRequest"/>
      </symbols>
    </guardRule>
  </stateTransitions>
</states:StateMachine>
