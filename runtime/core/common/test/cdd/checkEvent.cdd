<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<cluster xmlns="http://tibco.com/businessevents/configuration/5.1">
    <revision>
        <version>29</version>
        <author>Bob</author>
        <date>2011/05/10 10:58:31</date>
        <comment>Some text here.</comment>
    </revision>
    <name>My_Cluster</name>
    <message-encoding>UTF-8</message-encoding>
    <object-management>
        <cache-manager>
            <provider>
                <name>Coherence</name>
            </provider>
            <cache-agent-quorum>2</cache-agent-quorum>
            <backup-copies>1</backup-copies>
            <entity-cache-size>10000</entity-cache-size>
            <object-table>
                <max-size>100000</max-size>
            </object-table>
            <backing-store>
                <cache-aside>true</cache-aside>
                <cache-loader-class>com.tibco.cep.runtime.service.om.impl.coherence.cluster.backingstore.BECoherenceJdbcStore</cache-loader-class>
                <enabled>false</enabled>
                <enforce-pools>false</enforce-pools>
                <strategy>jdbc</strategy>
                <type>oracle</type>
                <primary-connection>
                    <uri/>
                    <initial-size>10</initial-size>
                    <max-size>10</max-size>
                    <min-size>10</min-size>
                </primary-connection>
            </backing-store>
            <domain-objects>
                <default-mode>cache</default-mode>
                <check-for-version>true</check-for-version>
                <constant>false</constant>
                <evict-on-update>false</evict-on-update>
                <cache-limited>false</cache-limited>
                <subscribe>true</subscribe>
                <pre-load-enabled>false</pre-load-enabled>
                <pre-load-fetch-size/>
                <pre-load-handles>false</pre-load-handles>
            </domain-objects>
        </cache-manager>
        <db-concepts>
            <db-uris/>
            <check-interval>60</check-interval>
            <inactivity-timeout>0</inactivity-timeout>
            <initial-size>5</initial-size>
            <max-size>5</max-size>
            <min-size>5</min-size>
            <property-check-interval>900</property-check-interval>
            <retry-count>-1</retry-count>
            <wait-timeout>1</wait-timeout>
        </db-concepts>
    </object-management>
    <rulesets>
        <rules id="rs-001">
            <uri>/Rules/RuleSet1/NewEventRule</uri>
            <uri>/Rules/RuleSet1/Rule_1</uri>
            <uri>/Rules/RuleSet1/Rule_2</uri>
        </rules>
    </rulesets>
    <function-groups>
        <functions id="functions-init">
            <uri>/Rules/Startup</uri>
        </functions>
    </function-groups>
    <destination-groups>
        <destinations id="endpoint-group-1">
            <destination id="endpoint-1">
                <pre-processor>/Rules/Preprocessor</pre-processor>
                <queue-size>10</queue-size>
                <thread-count>10</thread-count>
                <threading-model>shared-queue</threading-model>
                <uri>/RVChannel/Destination</uri>
            </destination>
        </destinations>
    </destination-groups>
    <log-configs>
        <log-config id="log-01">
            <enabled>true</enabled>
            <roles>default:info channel:warn</roles>
            <files>
                <enabled>true</enabled>
                <dir>logs</dir>
                <name>inference</name>
                <max-number>10</max-number>
                <max-size>10000000</max-size>
                <append>true</append>
            </files>
            <terminal>
                <enabled>true</enabled>
                <sys-out-redirect/>
                <sys-err-redirect/>
                <encoding/>
            </terminal>
            <line-layout>
                <enabled>false</enabled>
                <class/>
                <arg/>
            </line-layout>
        </log-config>
        <log-config id="log-02">
            <enabled>true</enabled>
            <roles>default:info</roles>
            <files>
                <enabled>true</enabled>
                <dir>logs</dir>
                <name>cache</name>
                <max-number>10</max-number>
                <max-size>100000</max-size>
                <append>true</append>
            </files>
            <terminal>
                <enabled>true</enabled>
                <sys-out-redirect/>
                <sys-err-redirect/>
                <encoding/>
            </terminal>
            <line-layout>
                <enabled>false</enabled>
                <class>org.apache.log4j.PatternLayout</class>
                <arg>[%d{dd MMM yyyy HH:mm:ss}][%-5p][%t] - %m%n</arg>
            </line-layout>
        </log-config>
        <log-config id="Log-03">
            <enabled>true</enabled>
            <roles>default:info</roles>
            <files>
                <enabled>true</enabled>
                <dir>logs</dir>
                <name>query</name>
                <max-number>10</max-number>
                <max-size>100000</max-size>
                <append>true</append>
            </files>
            <terminal>
                <enabled>true</enabled>
                <sys-out-redirect/>
                <sys-err-redirect/>
                <encoding/>
            </terminal>
            <line-layout>
                <enabled>false</enabled>
                <class>org.apache.log4j.PatternLayout</class>
                <arg>[%d{dd MMM yyyy HH:mm:ss}][%-5p][%t] - %m%n</arg>
            </line-layout>
        </log-config>
        <log-config id="Log-process">
            <enabled>true</enabled>
            <roles>default:info channel:warn</roles>
            <files>
                <enabled>true</enabled>
                <dir>logs</dir>
                <name>process</name>
                <max-number>100000</max-number>
                <max-size/>
                <append>false</append>
            </files>
            <terminal>
                <enabled>true</enabled>
                <sys-out-redirect>false</sys-out-redirect>
                <sys-err-redirect>false</sys-err-redirect>
                <encoding/>
            </terminal>
            <line-layout>
                <enabled>false</enabled>
                <class/>
                <arg/>
            </line-layout>
        </log-config>
    </log-configs>
    <agent-classes>
        <inference-agent-class id="ia-213">
            <rules>
                <ref>rs-001</ref>
            </rules>
            <destinations/>
            <startup>
                <uri>/rulefunctions/BpmnDemo</uri>
            </startup>
            <shutdown>
                <ref>functions-init</ref>
            </shutdown>
            <local-cache>
                <eviction>
                    <max-size>1000</max-size>
                    <max-time>3600</max-time>
                </eviction>
            </local-cache>
            <shared-queue>
                <size>1024</size>
                <workers>10</workers>
            </shared-queue>
            <load>
                <max-active/>
            </load>
            <concurrent-rtc>false</concurrent-rtc>
            <check-for-duplicates>false</check-for-duplicates>
            <businessworks>
                <uri/>
            </businessworks>
            <property-group/>
        </inference-agent-class>
        <cache-agent-class id="cache-1">
            <property-group/>
        </cache-agent-class>
        <query-agent-class id="query-1">
            <destinations/>
            <startup/>
            <shutdown/>
            <local-cache>
                <eviction>
                    <max-size/>
                    <max-time/>
                </eviction>
            </local-cache>
            <shared-queue>
                <size>1024</size>
                <workers>10</workers>
            </shared-queue>
            <load>
                <max-active/>
            </load>
            <property-group/>
        </query-agent-class>
        <process-agent-class id="pa-01">
            <load>
                <max-active/>
            </load>
            <process-engine>
                <process>
                    <uri>/process/order.process</uri>
                    <uri>/process/order1.process</uri>
                </process>
                <rules>
                    <uri>/Rules/RuleSet1/Rule_1</uri>
                </rules>
                <destinations/>
                <startup>
                    <uri>/Rules/Startup</uri>
                </startup>
                <shutdown>
                    <uri>/Rules/Test</uri>
                </shutdown>
                <job-manager>
                <!--
                    <job-queue-size/>
                    <thread-pool-size/>
                 -->
                </job-manager>
                <inference-engine>
                    <local-cache>
                        <eviction>
                            <max-size>1024</max-size>
                            <max-time>900</max-time>
                        </eviction>
                    </local-cache>
                    <!--
                    <shared-queue>
                        <size>1024</size>
                        <workers>10</workers>
                    </shared-queue>
                    -->
                    <concurrent-rtc>false</concurrent-rtc>
                    <check-for-duplicates>false</check-for-duplicates>
                </inference-engine>
            </process-engine>
            <property-group/>
        </process-agent-class>
    </agent-classes>
    <processing-units>
        <processing-unit id="unit1">
            <agents>
                <agent>
                    <ref>ia-213</ref>
                    <key/>
                    <priority/>
                </agent>
            </agents>
            <logs>log-01</logs>
            <hot-deploy>false</hot-deploy>
            <cache-storage-enabled>false</cache-storage-enabled>
            <db-concepts>false</db-concepts>
            <property-group/>
        </processing-unit>
        <processing-unit id="c1">
            <agents>
                <agent>
                    <ref>cache-1</ref>
                    <key/>
                    <priority/>
                </agent>
            </agents>
            <logs>log-02</logs>
            <hot-deploy>false</hot-deploy>
            <cache-storage-enabled>false</cache-storage-enabled>
            <db-concepts>false</db-concepts>
            <property-group/>
        </processing-unit>
        <processing-unit id="q1">
            <agents>
                <agent>
                    <ref>query-1</ref>
                    <key/>
                    <priority/>
                </agent>
            </agents>
            <logs>Log-03</logs>
            <hot-deploy>false</hot-deploy>
            <cache-storage-enabled>false</cache-storage-enabled>
            <db-concepts>false</db-concepts>
            <property-group/>
        </processing-unit>
        <processing-unit id="p1">
            <agents>
                <agent>
                    <ref>pa-01</ref>
                    <key>pa-01</key>
                    <priority>1</priority>
                </agent>
            </agents>
            <logs>Log-process</logs>
            <hot-deploy>false</hot-deploy>
            <cache-storage-enabled>false</cache-storage-enabled>
            <db-concepts>false</db-concepts>
            <property-group/>
        </processing-unit>
    </processing-units>
    <property-group/>
</cluster>
