/**
 * @description 
 */
int rulefunction Queries.settled {
	attribute {
		alias = "settledRF";
		validity = QUERY;
	}
	scope {
		ConceptModel.Trade	trade;
		ConceptModel.Securities	securities;
	}
	body {
		if ( (securities.inactive == "N") && (trade.settlestatus == "FULLY_SETTLED") ) {
		    return trade.loanamtusd;
		}
		
		return 0;
	}
}