/**
 * @description 
 */
double rulefunction RuleFunctions.ExecuteOrder {
	attribute {
		validity = ACTION;
	}
	scope {
		Concepts.Order o;
	}
	body {
		System.debugOut("#### Executing Order...");
		
		 Concepts.Customer c = Instance.getByExtId(o.name);
		 if(c != null) {
		 	Concepts.Account a = c.account;
		 	a.balance = a.balance - o.value;
		 	return a.balance;
		 } else {
		 	System.debugOut("@@@@ Customer :"+o.name+" not found");
		 	return -1;
		 }
	}
}