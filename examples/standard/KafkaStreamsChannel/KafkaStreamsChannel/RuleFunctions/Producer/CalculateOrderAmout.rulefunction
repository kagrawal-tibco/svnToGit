/**
 * @description Calculates the total order amount and returns it as a double value.
 */
double rulefunction RuleFunctions.Producer.CalculateOrderAmout {
	attribute {
		validity = ACTION;
	}
	scope {
		Concepts.Order order;
	}
	body {
		double total = 0;
		if (order.items@length > 0) {
			for (int i=0; i<order.items@length; i++) {
				Concepts.OrderItem item = order.items[i];
				total += item.price * item.quantity;
			}
		}
		return total;
	}
}